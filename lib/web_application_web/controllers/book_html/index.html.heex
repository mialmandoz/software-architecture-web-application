<!-- Centered Title -->
<div class="text-center mb-8">
  <h1 class="text-4xl font-bold text-base-content">📚 Books</h1>
  <p class="mt-2 text-base-content/70">Manage your book collection</p>
</div>

<.table id="books" rows={@books} row_click={&JS.navigate(~p"/books/#{&1}")}>
  <:col :let={book} label="Name">{book.name}</:col>
  <:col :let={book} label="Author">
    {if book.author, do: book.author.name, else: "Unknown"}
  </:col>
  <:col :let={book} label="Publication Date">
    {if book.date_of_publication,
      do: Calendar.strftime(book.date_of_publication, "%B %d, %Y"),
      else: "Not set"}
  </:col>
  <:col :let={book} label="Sales">{book.number_of_sales}</:col>
  <:col :let={book} label="Summary">
    <%= if book.summary && String.length(book.summary) > 100 do %>
      {String.slice(book.summary, 0, 100)}...
    <% else %>
      {book.summary}
    <% end %>
  </:col>
  <:action :let={book}>
    <div class="sr-only">
      <.link navigate={~p"/books/#{book}"}>Show</.link>
    </div>
    <.link navigate={~p"/books/#{book}/edit"}>Edit</.link>
  </:action>
  <:action :let={book}>
    <.link href={~p"/books/#{book}"} method="delete" data-confirm="Are you sure?">
      Delete
    </.link>
  </:action>
</.table>

<!-- Centered Action Buttons -->
<div class="flex justify-center gap-4 mt-8">
  <.link href={~p"/books/new"}>
    <.button class="bg-blue-600 hover:bg-blue-700">📖 New Book</.button>
  </.link>
  <.link navigate={~p"/"}>
    <.button class="bg-gray-500 hover:bg-gray-600">🏠 Main Menu</.button>
  </.link>
</div>
